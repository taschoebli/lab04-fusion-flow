{
	"info": {
		"_postman_id": "26235133-806c-4420-9904-e11b67b8c2be",
		"name": "Regiondo St. Gallen - EDPOA",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "30302304"
	},
	"item": [
		{
			"name": "Get products",
			"request": {
				"method": "GET",
				"header": []
			},
			"response": []
		},
		{
			"name": "Get available options",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"/*",
							"Add it as collection pre-request script and then in each request below it add the following headers:",
							"",
							"X-API-HASH : {{regiondoHmacAuthHeader}}",
							"X-API-TIME : {{regiondoReqTime}}",
							"X-API-ID : <yourPublicKey>",
							"",
							"*/",
							"function getQueryString(url) {",
							"    var arrSplit = url.split('?');",
							"    return arrSplit.length > 1 ? url.substring(url.indexOf('?')+1) : '';",
							"}",
							"",
							"function getAuthHeader(requestUrl) {",
							"  var PUBLIC_KEY = 'PA171f54c835045';",
							"  var SECRET_KEY = 'fcf54c829e88f09de35045deb1cb0b679600e';",
							"",
							"    var queryString = getQueryString(requestUrl);",
							"",
							"    var timestamp = Date.now();",
							"    pm.environment.set(\"regiondoReqTime\", timestamp);",
							"",
							"    var requestData = timestamp+PUBLIC_KEY+queryString;",
							"    console.log(\"Message 2 be hashed with private key: \" + requestData);",
							"",
							"    var hmacDigest = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(requestData, SECRET_KEY));",
							"",
							"    var authHeader = hmacDigest;",
							"    return authHeader;",
							"}",
							"",
							"var hmac = getAuthHeader(request['url']);",
							"console.log(\"HmacSHA256-Hash: \" + hmac);",
							"",
							"postman.setEnvironmentVariable('regiondoHmacAuthHeader', hmac);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-API-HASH",
						"value": "{{regiondoHmacAuthHeader}}",
						"type": "text"
					},
					{
						"key": "X-API-TIME",
						"value": "{{regiondoReqTime}}",
						"type": "text"
					},
					{
						"key": "X-API-ID",
						"value": "PA171f54c835045",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://api.regiondo.com/v1/products/availoptions/369979",
					"protocol": "https",
					"host": [
						"api",
						"regiondo",
						"com"
					],
					"path": [
						"v1",
						"products",
						"availoptions",
						"369979"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get timeslots dates",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"/*",
							"Add it as collection pre-request script and then in each request below it add the following headers:",
							"",
							"X-API-HASH : {{regiondoHmacAuthHeader}}",
							"X-API-TIME : {{regiondoReqTime}}",
							"X-API-ID : <yourPublicKey>",
							"",
							"*/",
							"function getQueryString(url) {",
							"    var arrSplit = url.split('?');",
							"    return arrSplit.length > 1 ? url.substring(url.indexOf('?')+1) : '';",
							"}",
							"",
							"function getAuthHeader(requestUrl) {",
							"  var PUBLIC_KEY = 'PA171f54c835045';",
							"  var SECRET_KEY = 'fcf54c829e88f09de35045deb1cb0b679600e';",
							"",
							"    var queryString = getQueryString(requestUrl);",
							"",
							"    var timestamp = Date.now();",
							"    pm.environment.set(\"regiondoReqTime\", timestamp);",
							"",
							"    var requestData = timestamp+PUBLIC_KEY+queryString;",
							"    console.log(\"Message 2 be hashed with private key: \" + requestData);",
							"",
							"    var hmacDigest = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(requestData, SECRET_KEY));",
							"",
							"    var authHeader = hmacDigest;",
							"    return authHeader;",
							"}",
							"",
							"var hmac = getAuthHeader(request['url']);",
							"console.log(\"HmacSHA256-Hash: \" + hmac);",
							"",
							"postman.setEnvironmentVariable('regiondoHmacAuthHeader', hmac);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-API-HASH",
						"value": "{{regiondoHmacAuthHeader}}",
						"type": "text"
					},
					{
						"key": "X-API-TIME",
						"value": "{{regiondoReqTime}}",
						"type": "text"
					},
					{
						"key": "X-API-ID",
						"value": "PA171f54c835045",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://api.regiondo.com/v1/products/timeslots/dates?variation_id=369979&from_date=2023-11-09&to_date=2023-11-10",
					"protocol": "https",
					"host": [
						"api",
						"regiondo",
						"com"
					],
					"path": [
						"v1",
						"products",
						"timeslots",
						"dates"
					],
					"query": [
						{
							"key": "variation_id",
							"value": "369979"
						},
						{
							"key": "from_date",
							"value": "2023-11-09"
						},
						{
							"key": "to_date",
							"value": "2023-11-10"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get timeslots",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"/*",
							"Add it as collection pre-request script and then in each request below it add the following headers:",
							"",
							"X-API-HASH : {{regiondoHmacAuthHeader}}",
							"X-API-TIME : {{regiondoReqTime}}",
							"X-API-ID : <yourPublicKey>",
							"",
							"*/",
							"function getQueryString(url) {",
							"    var arrSplit = url.split('?');",
							"    return arrSplit.length > 1 ? url.substring(url.indexOf('?')+1) : '';",
							"}",
							"",
							"function getAuthHeader(requestUrl) {",
							"  var PUBLIC_KEY = 'PA171f54c835045';",
							"  var SECRET_KEY = 'fcf54c829e88f09de35045deb1cb0b679600e';",
							"",
							"    var queryString = getQueryString(requestUrl);",
							"",
							"    var timestamp = Date.now();",
							"    pm.environment.set(\"regiondoReqTime\", timestamp);",
							"",
							"    var requestData = timestamp+PUBLIC_KEY+queryString;",
							"    console.log(\"Message 2 be hashed with private key: \" + requestData);",
							"",
							"    var hmacDigest = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(requestData, SECRET_KEY));",
							"",
							"    var authHeader = hmacDigest;",
							"    return authHeader;",
							"}",
							"",
							"var hmac = getAuthHeader(request['url']);",
							"console.log(\"HmacSHA256-Hash: \" + hmac);",
							"",
							"postman.setEnvironmentVariable('regiondoHmacAuthHeader', hmac);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-API-HASH",
						"value": "{{regiondoHmacAuthHeader}}",
						"type": "text"
					},
					{
						"key": "X-API-TIME",
						"value": "{{regiondoReqTime}}",
						"type": "text"
					},
					{
						"key": "X-API-ID",
						"value": "PA171f54c835045",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://api.regiondo.com/v1/supplier/bookings?date_range_by=date_of_event&date_range=2024-02-10,2024-02-10&limit=1",
					"protocol": "https",
					"host": [
						"api",
						"regiondo",
						"com"
					],
					"path": [
						"v1",
						"supplier",
						"bookings"
					],
					"query": [
						{
							"key": "date_range_by",
							"value": "date_of_event"
						},
						{
							"key": "date_range",
							"value": "2024-02-10,2024-02-10"
						},
						{
							"key": "limit",
							"value": "1"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Add to hold before purchase",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"/*",
							"Add it as collection pre-request script and then in each request below it add the following headers:",
							"",
							"X-API-HASH : {{regiondoHmacAuthHeader}}",
							"X-API-TIME : {{regiondoReqTime}}",
							"X-API-ID : <yourPublicKey>",
							"",
							"*/",
							"function getQueryString(url) {",
							"    var arrSplit = url.split('?');",
							"    return arrSplit.length > 1 ? url.substring(url.indexOf('?')+1) : '';",
							"}",
							"",
							"function getAuthHeader(requestUrl) {",
							"  var PUBLIC_KEY = 'PA171f54c835045';",
							"  var SECRET_KEY = 'fcf54c829e88f09de35045deb1cb0b679600e';",
							"",
							"    var queryString = getQueryString(requestUrl);",
							"",
							"    var timestamp = Date.now();",
							"    pm.environment.set(\"regiondoReqTime\", timestamp);",
							"",
							"    var requestData = timestamp+PUBLIC_KEY+queryString;",
							"    console.log(\"Message 2 be hashed with private key: \" + requestData);",
							"",
							"    var hmacDigest = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(requestData, SECRET_KEY));",
							"",
							"    var authHeader = hmacDigest;",
							"    return authHeader;",
							"}",
							"",
							"var hmac = getAuthHeader(request['url']);",
							"console.log(\"HmacSHA256-Hash: \" + hmac);",
							"",
							"postman.setEnvironmentVariable('regiondoHmacAuthHeader', hmac);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-API-HASH",
						"value": "{{regiondoHmacAuthHeader}}",
						"type": "text"
					},
					{
						"key": "X-API-TIME",
						"value": "{{regiondoReqTime}}",
						"type": "text"
					},
					{
						"key": "X-API-ID",
						"value": "PA171f54c835045",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"product_id\": 156630,\n  \"option_id\": 1026703,\n  \"date_time\": \"2024-01-19 19:00:00\",\n  \"qty\": 1\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://api.regiondo.com/v1/checkout/hold?reserve_minutes=60",
					"protocol": "https",
					"host": [
						"api",
						"regiondo",
						"com"
					],
					"path": [
						"v1",
						"checkout",
						"hold"
					],
					"query": [
						{
							"key": "reserve_minutes",
							"value": "60"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "View all hold requests",
			"request": {
				"method": "GET",
				"header": []
			},
			"response": []
		},
		{
			"name": "Get required order options fields",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"/*",
							"Add it as collection pre-request script and then in each request below it add the following headers:",
							"",
							"X-API-HASH : {{regiondoHmacAuthHeader}}",
							"X-API-TIME : {{regiondoReqTime}}",
							"X-API-ID : <yourPublicKey>",
							"",
							"*/",
							"function getQueryString(url) {",
							"    var arrSplit = url.split('?');",
							"    return arrSplit.length > 1 ? url.substring(url.indexOf('?')+1) : '';",
							"}",
							"",
							"function getAuthHeader(requestUrl) {",
							"  var PUBLIC_KEY = 'PA171f54c835045';",
							"  var SECRET_KEY = 'fcf54c829e88f09de35045deb1cb0b679600e';",
							"",
							"    var queryString = getQueryString(requestUrl);",
							"",
							"    var timestamp = Date.now();",
							"    pm.environment.set(\"regiondoReqTime\", timestamp);",
							"",
							"    var requestData = timestamp+PUBLIC_KEY+queryString;",
							"    console.log(\"Message 2 be hashed with private key: \" + requestData);",
							"",
							"    var hmacDigest = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(requestData, SECRET_KEY));",
							"",
							"    var authHeader = hmacDigest;",
							"    return authHeader;",
							"}",
							"",
							"var hmac = getAuthHeader(request['url']);",
							"console.log(\"HmacSHA256-Hash: \" + hmac);",
							"",
							"postman.setEnvironmentVariable('regiondoHmacAuthHeader', hmac);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-API-HASH",
						"value": "{{regiondoHmacAuthHeader}}",
						"type": "text"
					},
					{
						"key": "X-API-TIME",
						"value": "{{regiondoReqTime}}",
						"type": "text"
					},
					{
						"key": "X-API-ID",
						"value": "PA171f54c835045",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"items\": [\n    {\n      \"product_id\": 156630,\n      \"option_id\": 1026703,\n      \"qty\": 1\n    }\n  ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://api.regiondo.com/v1/checkout/orderoptionfields",
					"protocol": "https",
					"host": [
						"api",
						"regiondo",
						"com"
					],
					"path": [
						"v1",
						"checkout",
						"orderoptionfields"
					]
				}
			},
			"response": []
		},
		{
			"name": "Checkout link",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"/*",
							"Add it as collection pre-request script and then in each request below it add the following headers:",
							"",
							"X-API-HASH : {{regiondoHmacAuthHeader}}",
							"X-API-TIME : {{regiondoReqTime}}",
							"X-API-ID : <yourPublicKey>",
							"",
							"*/",
							"function getQueryString(url) {",
							"    var arrSplit = url.split('?');",
							"    return arrSplit.length > 1 ? url.substring(url.indexOf('?')+1) : '';",
							"}",
							"",
							"function getAuthHeader(requestUrl) {",
							"  var PUBLIC_KEY = 'PA171f54c835045';",
							"  var SECRET_KEY = 'fcf54c829e88f09de35045deb1cb0b679600e';",
							"",
							"    var queryString = getQueryString(requestUrl);",
							"",
							"    var timestamp = Date.now();",
							"    pm.environment.set(\"regiondoReqTime\", timestamp);",
							"",
							"    var requestData = timestamp+PUBLIC_KEY+queryString;",
							"    console.log(\"Message 2 be hashed with private key: \" + requestData);",
							"",
							"    var hmacDigest = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(requestData, SECRET_KEY));",
							"",
							"    var authHeader = hmacDigest;",
							"    return authHeader;",
							"}",
							"",
							"var hmac = getAuthHeader(request['url']);",
							"console.log(\"HmacSHA256-Hash: \" + hmac);",
							"",
							"postman.setEnvironmentVariable('regiondoHmacAuthHeader', hmac);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-API-HASH",
						"value": "{{regiondoHmacAuthHeader}}",
						"type": "text"
					},
					{
						"key": "X-API-TIME",
						"value": "{{regiondoReqTime}}",
						"type": "text"
					},
					{
						"key": "X-API-ID",
						"value": "PA171f54c835045",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://api.regiondo.com/v1/checkout/checkoutlink?reservation_code=42869553-5ac6f326b670d512ec23dc69f7b3b015&currency=CHF",
					"protocol": "https",
					"host": [
						"api",
						"regiondo",
						"com"
					],
					"path": [
						"v1",
						"checkout",
						"checkoutlink"
					],
					"query": [
						{
							"key": "reservation_code",
							"value": "42869553-5ac6f326b670d512ec23dc69f7b3b015"
						},
						{
							"key": "currency",
							"value": "CHF"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Add permanent reservation",
			"request": {
				"method": "GET",
				"header": []
			},
			"response": []
		},
		{
			"name": "Modify permanent reservation",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"/*",
							"Add it as collection pre-request script and then in each request below it add the following headers:",
							"",
							"X-API-HASH : {{regiondoHmacAuthHeader}}",
							"X-API-TIME : {{regiondoReqTime}}",
							"X-API-ID : <yourPublicKey>",
							"",
							"*/",
							"function getQueryString(url) {",
							"    var arrSplit = url.split('?');",
							"    return arrSplit.length > 1 ? url.substring(url.indexOf('?')+1) : '';",
							"}",
							"",
							"function getAuthHeader(requestUrl) {",
							"  var PUBLIC_KEY = 'PA171f54c835045';",
							"  var SECRET_KEY = 'fcf54c829e88f09de35045deb1cb0b679600e';",
							"",
							"    var queryString = getQueryString(requestUrl);",
							"",
							"    var timestamp = Date.now();",
							"    pm.environment.set(\"regiondoReqTime\", timestamp);",
							"",
							"    var requestData = timestamp+PUBLIC_KEY+queryString;",
							"    console.log(\"Message 2 be hashed with private key: \" + requestData);",
							"",
							"    var hmacDigest = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(requestData, SECRET_KEY));",
							"",
							"    var authHeader = hmacDigest;",
							"    return authHeader;",
							"}",
							"",
							"var hmac = getAuthHeader(request['url']);",
							"console.log(\"HmacSHA256-Hash: \" + hmac);",
							"",
							"postman.setEnvironmentVariable('regiondoHmacAuthHeader', hmac);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "X-API-HASH",
						"value": "{{regiondoHmacAuthHeader}}",
						"type": "text"
					},
					{
						"key": "X-API-TIME",
						"value": "{{regiondoReqTime}}",
						"type": "text"
					},
					{
						"key": "X-API-ID",
						"value": "PA171f54c835045",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"contact_data\": {\n    \"firstname\": \"Christoph Sebastian\",\n    \"comment\": \"hello World\"\n  },\n  \"items\": [\n    {\n      \"option_id\": 1026703,\n      \"qty\": 1,\n      \"reservation_code\": \"42871502-1645871980c88c8c4eec0b50a13350ba\"\n    }\n  ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://api.regiondo.com/v1/checkout/permanentreservation",
					"protocol": "https",
					"host": [
						"api",
						"regiondo",
						"com"
					],
					"path": [
						"v1",
						"checkout",
						"permanentreservation"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete permanent reservation",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"/*",
							"Add it as collection pre-request script and then in each request below it add the following headers:",
							"",
							"X-API-HASH : {{regiondoHmacAuthHeader}}",
							"X-API-TIME : {{regiondoReqTime}}",
							"X-API-ID : <yourPublicKey>",
							"",
							"*/",
							"function getQueryString(url) {",
							"    var arrSplit = url.split('?');",
							"    return arrSplit.length > 1 ? url.substring(url.indexOf('?')+1) : '';",
							"}",
							"",
							"function getAuthHeader(requestUrl) {",
							"  var PUBLIC_KEY = 'PA171f54c835045';",
							"  var SECRET_KEY = 'fcf54c829e88f09de35045deb1cb0b679600e';",
							"",
							"    var queryString = getQueryString(requestUrl);",
							"",
							"    var timestamp = Date.now();",
							"    pm.environment.set(\"regiondoReqTime\", timestamp);",
							"",
							"    var requestData = timestamp+PUBLIC_KEY+queryString;",
							"    console.log(\"Message 2 be hashed with private key: \" + requestData);",
							"",
							"    var hmacDigest = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(requestData, SECRET_KEY));",
							"",
							"    var authHeader = hmacDigest;",
							"    return authHeader;",
							"}",
							"",
							"var hmac = getAuthHeader(request['url']);",
							"console.log(\"HmacSHA256-Hash: \" + hmac);",
							"",
							"postman.setEnvironmentVariable('regiondoHmacAuthHeader', hmac);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "X-API-HASH",
						"value": "{{regiondoHmacAuthHeader}}",
						"type": "text"
					},
					{
						"key": "X-API-TIME",
						"value": "{{regiondoReqTime}}",
						"type": "text"
					},
					{
						"key": "X-API-ID",
						"value": "PA171f54c835045",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://api.regiondo.com/v1/checkout/permanentreservation?booking_key=2-1155579-156630-369979-1705690800",
					"protocol": "https",
					"host": [
						"api",
						"regiondo",
						"com"
					],
					"path": [
						"v1",
						"checkout",
						"permanentreservation"
					],
					"query": [
						{
							"key": "booking_key",
							"value": "2-1155579-156630-369979-1705690800"
						}
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"/*",
					"Add it as collection pre-request script and then in each request below it add the following headers:",
					"",
					"X-API-HASH : {{regiondoHmacAuthHeader}}",
					"X-API-TIME : {{regiondoReqTime}}",
					"X-API-ID : PA1650fa5825962                  // (Public key)",
					"",
					"*/",
					"function getQueryString(url) {",
					"    var arrSplit = url.split('?');",
					"    return arrSplit.length > 1 ? url.substring(url.indexOf('?')+1) : '';",
					"}",
					"",
					"function getAuthHeader(requestUrl) {",
					"  var PUBLIC_KEY = 'PA1650fa5825962';",
					"  var SECRET_KEY = '450fa5872f318b40d25962a745baf0a19082b';",
					"",
					"    var queryString = getQueryString(requestUrl);",
					"",
					"    var timestamp = Date.now();",
					"    pm.environment.set(\"regiondoReqTime\", timestamp);",
					"",
					"    var requestData = timestamp+PUBLIC_KEY+queryString;",
					"    console.log(\"Message 2 be hashed with private key: \" + requestData);",
					"",
					"    var hmacDigest = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(requestData, SECRET_KEY));",
					"",
					"    var authHeader = hmacDigest;",
					"    return authHeader;",
					"}",
					"",
					"var hmac = getAuthHeader(request['url']);",
					"console.log(\"HmacSHA256-Hash: \" + hmac);",
					"",
					"postman.setEnvironmentVariable('regiondoHmacAuthHeader', hmac);"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}